***************************
Localization
***************************

This module provide tools to localize images into an existing Structure from Motion scene.

openMVG_main_SfM_Localization
==============================

.. code-block:: c++

  $ openMVG_main_SfM_Localization -i [] -m [] -o [] -q []

Arguments description:

**Required parameters:**

  - **[-i|--input_file]** The input SfM_Data scene (must contains a structure and camera poses,eg.the sfm_data.bin generated by SfM)

  - **[-m|--match_dir]** path to the matches that corresponds to the provided SfM_Data scene

  - **[-o|--out_dir]** path to save the found camera position

  - **[-u|--match_out_dir]** path to the directory where new matches will be stored.
    If empty matches are stored in match_dir directory.
  
  - **[-q|--query_image_dir]** path to an image OR to the directory containing the images that must be localized 
    (the directory can also contain the images from the initial reconstruction)

**Optional parameters:**

  - **[-r|--residual_error]** upper bound of the residual error tolerance
  - **[-s|--single_intrinsics]** (switch) when switched on, the program will check if the input sfm_data 
    contains a single intrinsics and, if so, take this value as intrinsics for the query images.
    (OFF by default)
  - **[-e|--export_structure]** (switch) when switched on, the program will also export structure to output sfm_data while OFF will only export VIEWS, INTRINSICS and EXTRINSICS.
    (OFF by default)
  - **[-n|--numThreads]** number of thread(s)
  - **[-c|--camera_model]** Camera model type for view with unknown intrinsic.
  - **[-R|--resection_method]** resection/pose estimation method.

  - **[-F|--features_dir]** (Hybird) use this directory for features (trailing @ means include parent directory) 
  - **[-I|--input_intrinsics_file]** (Hybird) path to a SfM_Data file containing intrinsics for all query images.

**Filtering parameters (Hybird):**

  - **[-L|--export_filtered]** (Hybird) path to a file listing files filtered according to the following options.\n"
  - **[-U|--filter_used_landmarks]** (Hybird) Filter only images with landmarks used in the query\n"
  - **[-Q|--filter_queried]** (Hybird) Filter only images within a radius of the queried images\n"
  - **[-f|--filter_image]** (Hybird) Filter only images within a radius of this named image\n"
  - **[-D|--filter_radius]** (Hybird) Distance/Radius in units\n"
  - **[-x|--filter_pos_x]** (Hybird) Filter only images within a radius of this fixed position (x,y,z)\n"
  - **[-y|--filter_pos_y]** (Hybird) (matches with -x) \n"
  - **[-z|--filter_pos_z]** (Hybird) (matches with -x) \n"

.. code-block:: c++

  // Example
  $ openMVG_main_SfM_Localization -i /home/user/Dataset/ImageDataset_SceauxCastle/reconstruction/sfm_data.bin -m /home/user/Dataset/ImageDataset_SceauxCastle/matches -o ./ -q /home/user/Dataset/ImageDataset_SceauxCastle/images/100_7100.JPG
